const translations = {
  en: {
    navAbout: "About",
    navContact: "Contact",
    navBrand: "Andrea Flowers",
    heroHeading: "Flowers for every occasion",
    heroText: "Welcome to Andrea Flowers where every flower tells a story...",
    getInTouch: "Get in Touch",
    featuredBouquets: "Featured Bouquets",
    roseBouquet: "Rose Bouquet",
    roseDescription: "Classic red roses for romantic occasions.",
    springMix: "Spring Mix",
    springDescription: "A vibrant selection of seasonal blooms.",
    sunflowerShine: "Sunflower Shine",
    sunflowerDescription: "Bright sunflowers to light up your day.",
    elegantLilies: "Elegant Lilies",
    liliesDescription: "Elegant white lilies perfect for any occasion.",
    reviewsHeading: "What Our Customers Say...",
    review1Name: "Jane D.",
    review1Quote:
      "Absolutely stunning arrangements! The flowers made my event magical.",
    review2Name: "Mike R.",
    review2Quote:
      "Great customer service and beautiful flowers delivered on time.",
    review3Name: "Lila S.",
    review3Quote:
      "Andrea Flowers never disappoints! I’ve ordered multiple times and love it.",
    footerBusinessName: "Andrea Flowers",
    footerAddress: "Address: 847/10 Deep Street, Ekecs Slovakia 93028",
    footerOpeningHours: "Opening Hours:",
    footerOpeningHoursMonFri: "Mon–Fri: 9:00am – 5:00pm",
    footerOpeningHoursSat: "Sat: 9:00am – 1:00pm",
    footerOpeningHoursSun: "Sun: Closed",
    footerPhone: "Phone: (+421) 908 709 558",
    footerCopyright: "© 2025 Andrea Flowers. All rights reserved.",
    contactNamePlaceholder: "Your Name",
    contactEmailPlaceholder: "Your Email",
    contactPhonePlaceholder: "Phone Number",
    contactSubjectPlaceholder: "Subject",
    contactMessagePlaceholder: "Your Message",
    sendMessage: "Send Message",
    visitHeading: "Come and visit us...",
    visitParagraph:
      "Visit Andrea Flowers and discover beautiful, handcrafted bouquets for every occasion. Our friendly team is ready to help you. Stop by and brighten your day with fresh flowers!",
    visitList1: "Flowers ready to buy",
    visitList2: "Have a bouquet made while you browse our gift shop",
    visitList3: "Enjoy a coffee and have a chat with our lovely team",
    aboutHeading: "About Andrea Flowers",
    aboutParagraph1:
      "Founded in 1998, Andrea Flowers has blossomed from a small local boutique into one of the community's most beloved floral destinations. What began as a dream by Andrea herself—armed with a passion for color, fragrance, and natural beauty—has grown into a family-run shop known for personal service and exquisite floral arrangements.",
    aboutParagraph2:
      "Nestled in the heart of town, our shop is filled with fresh blooms daily, curated by our dedicated team who believe that flowers aren’t just gifts—they’re stories, celebrations, and memories in bloom. Whether you're marking a milestone or simply brightening someone's day, Andrea Flowers brings your sentiment to life with elegance and care.",
  },
  hu: {
    navAbout: "Rólunk",
    navContact: "Kapcsolat",
    navBrand: "Andrea Virágok",
    heroHeading: "Virágok minden alkalomra",
    heroText:
      "Üdvözöljük az Andrea Flowers-nál, ahol minden virág egy történetet mesél el...",
    getInTouch: "Lépjen kapcsolatba velünk",
    featuredBouquets: "Kiemelt Csokrok",
    roseBouquet: "Rózsa Csokor",
    roseDescription: "Klasszikus vörös rózsák romantikus alkalmakra.",
    springMix: "Tavaszi Vegyes",
    springDescription: "Élénk szezonális virágok válogatása.",
    sunflowerShine: "Napraforgó Fény",
    sunflowerDescription: "Ragyogó napraforgók, hogy feldobják a napod.",
    elegantLilies: "Elegáns Liliomok",
    liliesDescription: "Elegáns fehér liliomok minden alkalomra.",
    reviewsHeading: "Mit mondanak ügyfeleink...",
    review1Name: "Jánosné D.",
    review1Quote:
      "Lenyűgöző virágkompozíciók! A virágok varázslatossá tették az eseményemet.",
    review2Name: "Miklós R.",
    review2Quote:
      "Nagyszerű ügyfélszolgálat és gyönyörű virágok időben szállítva.",
    review3Name: "Lívia S.",
    review3Quote:
      "Az Andrea Flowers sosem okoz csalódást! Többször rendeltem már és imádom.",
    footerBusinessName: "Andrea Virágok",
    footerAddress: "Cím: 847/10 Deep Street, Ekecs Szlovákia 93028",
    footerOpeningHours: "Nyitvatartás:",
    footerOpeningHoursMonFri: "H–P: 9:00 – 17:00",
    footerOpeningHoursSat: "Szo: 9:00 – 13:00",
    footerOpeningHoursSun: "V: Zárva",
    footerPhone: "Telefon: (+421) 908 709 558",
    footerCopyright: "© 2025 Andrea Virágok. Minden jog fenntartva.",
    contactNamePlaceholder: "Az Ön neve",
    contactEmailPlaceholder: "Az Ön e-mail címe",
    contactPhonePlaceholder: "Telefonszám",
    contactSubjectPlaceholder: "Tárgy",
    contactMessagePlaceholder: "Az Ön üzenete",
    sendMessage: "Üzenet küldése",
    visitHeading: "Látogasson el hozzánk...",
    visitParagraph:
      "Látogasson el az Andrea Virágokhoz, és fedezze fel a kézzel készített, gyönyörű csokrokat minden alkalomra. Barátságos csapatunk kész segíteni Önnek. Ugorjon be és tegye szebbé a napját friss virágokkal!",
    visitList1: "Virágok készen a vásárlásra",
    visitList2: "Készítsen csokrot, miközben böngészi ajándékboltunkat",
    visitList3: "Élvezze a kávét és beszélgessen kedves csapatunkkal",
    aboutHeading: "Andrea Virágok Rólunk",
    aboutParagraph1:
      "1998-ban alapított Andrea Virágok egy kis helyi üzletből nőtte ki magát a közösség egyik legkedveltebb virágboltjává. Andrea álmaként indult – szín, illat és természetes szépség iránti szenvedéllyel – és mára egy családi vállalkozásként működő bolt, amely személyes kiszolgálásáról és kifinomult virágkötészeti megoldásairól ismert.",
    aboutParagraph2:
      "Üzletünk a város szívében található, naponta friss virágokkal megtöltve, amelyeket elkötelezett csapatunk gondosan válogat össze. Hisszük, hogy a virágok nem csupán ajándékok – hanem történetek, ünneplések és emlékek virágba borulva. Legyen szó bármilyen alkalomról, az Andrea Virágok eleganciával és odafigyeléssel kelti életre üzenetét.",
  },
};

let currentLang = "en";

function updateTexts() {
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[currentLang] && translations[currentLang][key]) {
      el.textContent = translations[currentLang][key];
    }
  });

  const placeholders = [
    { selector: "input[name='name']", key: "contactNamePlaceholder" },
    { selector: "input[name='email']", key: "contactEmailPlaceholder" },
    { selector: "input[name='phone']", key: "contactPhonePlaceholder" },
    { selector: "input[name='subject']", key: "contactSubjectPlaceholder" },
    { selector: "textarea[name='message']", key: "contactMessagePlaceholder" },
  ];

  placeholders.forEach(({ selector, key }) => {
    const el = document.querySelector(selector);
    if (el && translations[currentLang] && translations[currentLang][key]) {
      el.placeholder = translations[currentLang][key];
    }
  });

  const submitBtn = document.querySelector(".cta-button");
  if (
    submitBtn &&
    translations[currentLang] &&
    translations[currentLang]["sendMessage"]
  ) {
    submitBtn.textContent = translations[currentLang]["sendMessage"];
  }
}

function updateLangAttribute() {
  document.documentElement.lang = currentLang;
}

function updateToggleLabel() {
  const langToggle = document.getElementById("lang-toggle");
  const langLabel = document.getElementById("lang-label");

  if (!langToggle || !langLabel) return;

  const isEnglish = currentLang === "en";
  langToggle.setAttribute(
    "title",
    isEnglish ? "Switch to Hungarian" : "Switch to English"
  );
  langToggle.setAttribute(
    "aria-label",
    isEnglish ? "Switch language to Hungarian" : "Switch language to English"
  );

  // Update visible language label next to globe icon
  langLabel.textContent = isEnglish ? "EN" : "HU";
}

document.addEventListener("DOMContentLoaded", () => {
  const langToggle = document.getElementById("lang-toggle");

  const savedLang = localStorage.getItem("preferredLang");
  if (savedLang && (savedLang === "en" || savedLang === "hu")) {
    currentLang = savedLang;
  }

  if (langToggle) {
    langToggle.addEventListener("click", (e) => {
      e.preventDefault();
      currentLang = currentLang === "en" ? "hu" : "en";
      localStorage.setItem("preferredLang", currentLang);
      updateTexts();
      updateLangAttribute();
      updateToggleLabel();
    });
  }

  updateTexts();
  updateLangAttribute();
  updateToggleLabel();
});
